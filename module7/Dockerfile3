# Use official Python image
FROM python:3.12-slim

# Set working directory
WORKDIR /app

COPY Hana_mod7_3.txt .
RUN pip install --no-cache-dir -r Hana_mod7_3.txt

# Copy your code
COPY Hana_mod7_3.py .

# Run the program
CMD ["uvicorn", "Hana_mod7_3:app", "--host", "0.0.0.0", "--port", "8000"]

EXPOSE 8000

# RUN IN TERMINAL (CP):
# docker buildx build --load -f Dockerfile3 -t hana_ex3:1.0.0 .
# docker run -d -p 8000:8000 hana_ex3:1.0.0    

# to save my image:
# docker save hana_ex3:1.0.0 -o hana_ex3.tar


#docker build --no-cache -f Dockerfile3 -t hana_ex3:fixed .
#docker run -d -p 8000:8000 hana_ex3:fixed
#docker ps
# docker logs ID
#iwr http://localhost:8000